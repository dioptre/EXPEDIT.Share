(function(c){var d=function(v,l){var o=c.extend({},c.fn.nivoSlider.defaults,l);var s={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false,controlNavEl:false};var u=c(v);u.data("nivo:vars",s).addClass("nivoSlider");var m=u.children();m.each(function(){var k=c(this);var e="";if(!k.is("img")){if(k.is("a")){k.addClass("nivo-imageLink");e=k}k=k.find("img:first")}var g=g===0?k.attr("width"):k.width(),j=j===0?k.attr("height"):k.height();if(e!==""){e.css("display","none")}k.css("display","none");s.totalSlides++});if(o.randomStart){o.startSlide=Math.floor(Math.random()*s.totalSlides)}if(o.startSlide>0){if(o.startSlide>=s.totalSlides){o.startSlide=s.totalSlides-1}s.currentSlide=o.startSlide}if(c(m[s.currentSlide]).is("img")){s.currentImage=c(m[s.currentSlide])}else{s.currentImage=c(m[s.currentSlide]).find("img:first")}if(c(m[s.currentSlide]).is("a")){c(m[s.currentSlide]).css("display","block")}var H=c("<img/>").addClass("nivo-main-image");H.attr("src",s.currentImage.attr("src")).show();u.append(H);c(window).resize(function(){u.children("img").width(u.width());H.attr("src",s.currentImage.attr("src"));H.stop().height("auto");c(".nivo-slice").remove();c(".nivo-box").remove()});u.append(c('<div class="nivo-caption"></div>'));var f=function(j){var e=c(".nivo-caption",u);if(s.currentImage.attr("title")!=""&&s.currentImage.attr("title")!=undefined){var g=s.currentImage.attr("title");if(g.substr(0,1)=="#"){g=c(g).html()}if(e.css("display")=="block"){setTimeout(function(){e.html(g)},j.animSpeed)}else{e.html(g);e.stop().fadeIn(j.animSpeed)}}else{e.stop().fadeOut(j.animSpeed)}};f(o);var p=0;if(!o.manualAdvance&&m.length>1){p=setInterval(function(){i(u,m,o,false)},o.pauseTime)}if(o.directionNav){u.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+o.prevText+'</a><a class="nivo-nextNav">'+o.nextText+"</a></div>");c(u).on("click","a.nivo-prevNav",function(){if(s.running){return false}clearInterval(p);p="";s.currentSlide-=2;i(u,m,o,"prev")});c(u).on("click","a.nivo-nextNav",function(){if(s.running){return false}clearInterval(p);p="";i(u,m,o,"next")})}if(o.controlNav){s.controlNavEl=c('<div class="nivo-controlNav"></div>');u.after(s.controlNavEl);for(var t=0;t<m.length;t++){if(o.controlNavThumbs){s.controlNavEl.addClass("nivo-thumbs-enabled");var h=m.eq(t);if(!h.is("img")){h=h.find("img:first")}if(h.attr("data-thumb")){s.controlNavEl.append('<a class="nivo-control" rel="'+t+'"><img src="'+h.attr("data-thumb")+'" alt="" /></a>')}}else{s.controlNavEl.append('<a class="nivo-control" rel="'+t+'">'+(t+1)+"</a>")}}c("a:eq("+s.currentSlide+")",s.controlNavEl).addClass("active");c("a",s.controlNavEl).bind("click",function(){if(s.running){return false}if(c(this).hasClass("active")){return false}clearInterval(p);p="";H.attr("src",s.currentImage.attr("src"));s.currentSlide=c(this).attr("rel")-1;i(u,m,o,"control")})}if(o.pauseOnHover){u.hover(function(){s.paused=true;clearInterval(p);p=""},function(){s.paused=false;if(p===""&&!o.manualAdvance){p=setInterval(function(){i(u,m,o,false)},o.pauseTime)}})}u.bind("nivo:animFinished",function(){H.attr("src",s.currentImage.attr("src"));s.running=false;c(m).each(function(){if(c(this).is("a")){c(this).css("display","none")}});if(c(m[s.currentSlide]).is("a")){c(m[s.currentSlide]).css("display","block")}if(p===""&&!s.paused&&!o.manualAdvance){p=setInterval(function(){i(u,m,o,false)},o.pauseTime)}o.afterChange.call(this)});var r=function(q,e,j){if(c(j.currentImage).parent().is("a")){c(j.currentImage).parent().css("display","block")}c('img[src="'+j.currentImage.attr("src")+'"]',q).not(".nivo-main-image,.nivo-control img").width(q.width()).css("visibility","hidden").show();var w=c('img[src="'+j.currentImage.attr("src")+'"]',q).not(".nivo-main-image,.nivo-control img").parent().is("a")?c('img[src="'+j.currentImage.attr("src")+'"]',q).not(".nivo-main-image,.nivo-control img").parent().height():c('img[src="'+j.currentImage.attr("src")+'"]',q).not(".nivo-main-image,.nivo-control img").height();for(var k=0;k<e.slices;k++){var g=Math.round(q.width()/e.slices);if(k===e.slices-1){q.append(c('<div class="nivo-slice" name="'+k+'"><img src="'+j.currentImage.attr("src")+'" style="position:absolute; width:'+q.width()+"px; height:auto; display:block !important; top:0; left:-"+(g+k*g-g)+'px;" /></div>').css({left:g*k+"px",width:q.width()-g*k+"px",height:w+"px",opacity:"0",overflow:"hidden"}))}else{q.append(c('<div class="nivo-slice" name="'+k+'"><img src="'+j.currentImage.attr("src")+'" style="position:absolute; width:'+q.width()+"px; height:auto; display:block !important; top:0; left:-"+(g+k*g-g)+'px;" /></div>').css({left:g*k+"px",width:g+"px",height:w+"px",opacity:"0",overflow:"hidden"}))}}c(".nivo-slice",q).height(w);H.stop().animate({height:c(j.currentImage).height()},e.animSpeed)};var n=function(k,q,g){if(c(g.currentImage).parent().is("a")){c(g.currentImage).parent().css("display","block")}c('img[src="'+g.currentImage.attr("src")+'"]',k).not(".nivo-main-image,.nivo-control img").width(k.width()).css("visibility","hidden").show();var w=Math.round(k.width()/q.boxCols),j=Math.round(c('img[src="'+g.currentImage.attr("src")+'"]',k).not(".nivo-main-image,.nivo-control img").height()/q.boxRows);for(var e=0;e<q.boxRows;e++){for(var x=0;x<q.boxCols;x++){if(x===q.boxCols-1){k.append(c('<div class="nivo-box" name="'+x+'" rel="'+e+'"><img src="'+g.currentImage.attr("src")+'" style="position:absolute; width:'+k.width()+"px; height:auto; display:block; top:-"+j*e+"px; left:-"+w*x+'px;" /></div>').css({opacity:0,left:w*x+"px",top:j*e+"px",width:k.width()-w*x+"px"}));c('.nivo-box[name="'+x+'"]',k).height(c('.nivo-box[name="'+x+'"] img',k).height()+"px")}else{k.append(c('<div class="nivo-box" name="'+x+'" rel="'+e+'"><img src="'+g.currentImage.attr("src")+'" style="position:absolute; width:'+k.width()+"px; height:auto; display:block; top:-"+j*e+"px; left:-"+w*x+'px;" /></div>').css({opacity:0,left:w*x+"px",top:j*e+"px",width:w+"px"}));c('.nivo-box[name="'+x+'"]',k).height(c('.nivo-box[name="'+x+'"] img',k).height()+"px")}}}H.stop().animate({height:c(g.currentImage).height()},q.animSpeed)};var i=function(D,z,B,w){var C=D.data("nivo:vars");if(C&&C.currentSlide===C.totalSlides-1){B.lastSlide.call(this)}if((!C||C.stop)&&!w){return false}B.beforeChange.call(this);if(!w){H.attr("src",C.currentImage.attr("src"))}else{if(w==="prev"){H.attr("src",C.currentImage.attr("src"))}if(w==="next"){H.attr("src",C.currentImage.attr("src"))}}C.currentSlide++;if(C.currentSlide===C.totalSlides){C.currentSlide=0;B.slideshowEnd.call(this)}if(C.currentSlide<0){C.currentSlide=C.totalSlides-1}if(c(z[C.currentSlide]).is("img")){C.currentImage=c(z[C.currentSlide])}else{C.currentImage=c(z[C.currentSlide]).find("img:first")}if(B.controlNav){c("a",C.controlNavEl).removeClass("active");c("a:eq("+C.currentSlide+")",C.controlNavEl).addClass("active")}f(B);c(".nivo-slice",D).remove();c(".nivo-box",D).remove();var A=B.effect,k="";if(B.effect==="random"){k=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");A=k[Math.floor(Math.random()*(k.length+1))];if(A===undefined){A="fade"}}if(B.effect.indexOf(",")!==-1){k=B.effect.split(",");A=k[Math.floor(Math.random()*k.length)];if(A===undefined){A="fade"}}if(C.currentImage.attr("data-transition")){A=C.currentImage.attr("data-transition")}C.running=true;var x=0,g=0,j="",y="",q="",N="";if(A==="sliceDown"||A==="sliceDownRight"||A==="sliceDownLeft"){r(D,B,C);x=0;g=0;j=c(".nivo-slice",D);if(A==="sliceDownLeft"){j=c(".nivo-slice",D)._reverse()}j.each(function(){var I=c(this);I.css({top:"0px"});if(g===B.slices-1){setTimeout(function(){I.animate({opacity:"1.0"},B.animSpeed,"",function(){D.trigger("nivo:animFinished")})},100+x)}else{setTimeout(function(){I.animate({opacity:"1.0"},B.animSpeed)},100+x)}x+=50;g++})}else{if(A==="sliceUp"||A==="sliceUpRight"||A==="sliceUpLeft"){r(D,B,C);x=0;g=0;j=c(".nivo-slice",D);if(A==="sliceUpLeft"){j=c(".nivo-slice",D)._reverse()}j.each(function(){var I=c(this);I.css({bottom:"0px"});if(g===B.slices-1){setTimeout(function(){I.animate({opacity:"1.0"},B.animSpeed,"",function(){D.trigger("nivo:animFinished")})},100+x)}else{setTimeout(function(){I.animate({opacity:"1.0"},B.animSpeed)},100+x)}x+=50;g++})}else{if(A==="sliceUpDown"||A==="sliceUpDownRight"||A==="sliceUpDownLeft"){r(D,B,C);x=0;g=0;var e=0;j=c(".nivo-slice",D);if(A==="sliceUpDownLeft"){j=c(".nivo-slice",D)._reverse()}j.each(function(){var I=c(this);if(g===0){I.css("top","0px");g++}else{I.css("bottom","0px");g=0}if(e===B.slices-1){setTimeout(function(){I.animate({opacity:"1.0"},B.animSpeed,"",function(){D.trigger("nivo:animFinished")})},100+x)}else{setTimeout(function(){I.animate({opacity:"1.0"},B.animSpeed)},100+x)}x+=50;e++})}else{if(A==="fold"){r(D,B,C);x=0;g=0;c(".nivo-slice",D).each(function(){var I=c(this);var J=I.width();I.css({top:"0px",width:"0px"});if(g===B.slices-1){setTimeout(function(){I.animate({width:J,opacity:"1.0"},B.animSpeed,"",function(){D.trigger("nivo:animFinished")})},100+x)}else{setTimeout(function(){I.animate({width:J,opacity:"1.0"},B.animSpeed)},100+x)}x+=50;g++})}else{if(A==="fade"){r(D,B,C);y=c(".nivo-slice:first",D);y.css({width:D.width()+"px"});y.animate({opacity:"1.0"},B.animSpeed*2,"",function(){D.trigger("nivo:animFinished")})}else{if(A==="slideInRight"){r(D,B,C);y=c(".nivo-slice:first",D);y.css({width:"0px",opacity:"1"});y.animate({width:D.width()+"px"},B.animSpeed*2,"",function(){D.trigger("nivo:animFinished")})}else{if(A==="slideInLeft"){r(D,B,C);y=c(".nivo-slice:first",D);y.css({width:"0px",opacity:"1",left:"",right:"0px"});y.animate({width:D.width()+"px"},B.animSpeed*2,"",function(){y.css({left:"0px",right:""});D.trigger("nivo:animFinished")})}else{if(A==="boxRandom"){n(D,B,C);q=B.boxCols*B.boxRows;g=0;x=0;N=a(c(".nivo-box",D));N.each(function(){var I=c(this);if(g===q-1){setTimeout(function(){I.animate({opacity:"1"},B.animSpeed,"",function(){D.trigger("nivo:animFinished")})},100+x)}else{setTimeout(function(){I.animate({opacity:"1"},B.animSpeed)},100+x)}x+=20;g++})}else{if(A==="boxRain"||A==="boxRainReverse"||A==="boxRainGrow"||A==="boxRainGrowReverse"){n(D,B,C);q=B.boxCols*B.boxRows;g=0;x=0;var F=0;var E=0;var T=[];T[F]=[];N=c(".nivo-box",D);if(A==="boxRainReverse"||A==="boxRainGrowReverse"){N=c(".nivo-box",D)._reverse()}N.each(function(){T[F][E]=c(this);E++;if(E===B.boxCols){F++;E=0;T[F]=[]}});for(var G=0;G<B.boxCols*2;G++){var aa=G;for(var S=0;S<B.boxRows;S++){if(aa>=0&&aa<B.boxCols){(function(J,M,L,Q,I){var P=c(T[J][M]);var O=P.width();var K=P.height();if(A==="boxRainGrow"||A==="boxRainGrowReverse"){P.width(0).height(0)}if(Q===I-1){setTimeout(function(){P.animate({opacity:"1",width:O,height:K},B.animSpeed/1.3,"",function(){D.trigger("nivo:animFinished")})},100+L)}else{setTimeout(function(){P.animate({opacity:"1",width:O,height:K},B.animSpeed/1.3)},100+L)}})(S,aa,x,g,q);g++}aa--}x+=100}}}}}}}}}}};var a=function(g){for(var k,e,j=g.length;j;k=parseInt(Math.random()*j,10),e=g[--j],g[j]=g[k],g[k]=e){}return g};var b=function(e){if(this.console&&typeof console.log!=="undefined"){console.log(e)}};this.stop=function(){if(!c(v).data("nivo:vars").stop){c(v).data("nivo:vars").stop=true;b("Stop Slider")}};this.start=function(){if(c(v).data("nivo:vars").stop){c(v).data("nivo:vars").stop=false;b("Start Slider")}};o.afterLoad.call(this);return this};c.fn.nivoSlider=function(a){return this.each(function(h,j){var i=c(this);if(i.data("nivoslider")){return i.data("nivoslider")}var b=new d(this,a);i.data("nivoslider",b)})};c.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3000,startSlide:0,directionNav:true,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};c.fn._reverse=[].reverse})(jQuery);
<!doctype html>
<html>
<head>
  <title>Form Builder</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="vendor/css/vendor.css" />
  <link rel="stylesheet" href="dist/formbuilder.css" />
  <style>
      * {
          box-sizing: border-box;
      }

      body {
          background-color: #444;
          font-family: sans-serif;
      }

      .fb-main {
          background-color: #fff;
          border-radius: 5px;
          min-height: 600px;
      }

      .fb-button {
          background-color: #2c3742;
          border: none;
      }

      .fb-add-field-types a {
          background-color: #2c3742 !important;
      }

      input[type=text] {
          height: 26px;
          margin-bottom: 3px;
      }

      select {
          margin-bottom: 5px;
          font-size: 40px;
      }
  </style>
</head>
<body>

  <div class='fb-main'></div>

  <script src="vendor/js/vendor.js"></script>
  <script src="dist/formbuilder.js"></script>

  <script>

    $(function () {
      Formbuilder.options.AUTOSAVE = false;
        // setting up form plugin...

        
      var setupData = []
      if (parent.$.colorbox.selectedData !== null && typeof parent.$.colorbox.selectedData !== 'undefined') {
          setupData = parent.$.colorbox.selectedData.fields;
          console.log(setupData)
          parent.$.colorbox.selectedData = null;
      };
      

      // setup new form
      fb = new Formbuilder({
          selector: '.fb-main',
          bootstrapData: setupData
      });

      // trigger from plugin
      fb.on('save', function(payload){
          parent.$.colorbox.selectedData = payload;
          parent.$.colorbox.close();
      })
           

      // for the close button on the lightbox
      $("#media-library-main-selection-select > .button-cancel").on('click', function () {
          parent.$.colorbox.selectedData = null;
          parent.$.colorbox.close();
      });

      
      
    });
  </script>

</body>
</html>